<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

<record id="mail_wizard_invite_form" model="ir.ui.view">
    <field name="name">Add Followers</field>
    <field name="model">mail.wizard.invite</field>
    <field name="inherit_id" ref="mail.mail_wizard_invite_form"/>
    <field name="arch" type="xml">
        <data>
            <field name="message" position="attributes">
                <attribute name="options">{'editor_url': '/website_mail/field/email'}</attribute>
            </field>
        </data>
    </field>
</record>

<record id="email_compose_message_wizard_form" model="ir.ui.view">
    <field name="name">mail.compose.message.form</field>
    <field name="model">mail.compose.message</field>
    <field name="inherit_id" ref="mail.email_compose_message_wizard_form"/>
    <field name="arch" type="xml">
        <data>
            <field name="body" position="attributes">
                <attribute name="options">{'editor_url': '/website_mail/field/email'}</attribute>
            </field>
        </data>
    </field>
</record>

<template id="assets_editor" inherit_id="website.assets_editor" name="Email Designer">
    <xpath expr="." position="inside">
        <script type="text/javascript" src="/website_mail/static/src/js/website_email_designer.js"></script>
    </xpath>
</template>

<!-- Template Choice page -->
<template id="FieldTextHtmlEmail" name="Editor layout">
    
    <t t-set="head">
        <link rel="stylesheet" href="/website_mail/static/src/css/website_mail_iframe.css" type="text/css"/>
        <script type="text/javascript" src="/website_mail/static/src/js/website_email_designer.js"></script>
    </t>

    <t t-set="add_html">
        <span t-if="templates" id="choose_template" class="o_not_editable btn btn-primary"><span>Choose a Template</span><span class="hidden">Cancel selection</span></span>
    </t>

    <t t-call="website.editor_layout">
        <div><div class="o_editable" t-att-data-oe-model="model" t-att-data-oe-field="field" t-att-data-oe-id="res_id" data-oe-type="html"><t t-raw="content"/></div></div>
        <t t-if="templates">
            <div id="templates" class="hidden o_not_editable">
                <h1 class="page-header mt16">
                    Choose a Template
                </h1>
                <div class="row">
                    <div class="col-md-3 col-sm-4 text-center img-border">
                        <div class="template_preview_border">
                            <div class="template_preview js_content"/>
                        </div>
                        <h4>New Template</h4>
                        <button class="btn btn-primary js_template_set">Select</button>
                    </div>
                    <div t-foreach="templates" t-as="template" class="col-md-3 col-sm-4 text-center">
                        <div class="template_preview_border">
                            <div t-raw="template.body_html" class="template_preview js_content"/>
                        </div>
                        <h4 t-field="template.name"/>
                        <button class="btn btn-primary js_template_set">Select</button>
                    </div>
                </div>
            </div>
        </t>
    </t>
</template>


    </data>
</openerp>



