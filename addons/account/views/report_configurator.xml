<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>
<template id="report_configurator">
    <h3>Configurator</h3>
    <form role="form" method="get" name="form">
        <div class="form-group">
            <div class="row mt32">
                <div class="col-xs-3">
                    <label for="chart_account_id">Chart of account :</label>
                    <select name="chart_account_id" class="form-control">
                        <t t-foreach="data['content']['accounts']" t-as="a"> 
                            <option t-if="a['id'] == data['form']['chart_account_id']" selected="selected" t-att-value="a['id']">
                                <t t-esc="a['name']"></t>
                            </option>
                            <option t-if="a['id'] != data['form']['chart_account_id']" t-att-value="a['id']">
                                <t t-esc="a['name']"></t>
                            </option>
                        </t>   
                    </select>
                    <label for="fiscalyear_id">Fiscal year :</label>
                    <select name="fiscalyear_id" class="form-control">
                        <t t-foreach="data['content']['fiscalyears']" t-as="fy">
                            <option t-if="fy['id'] == data['form']['fiscalyear_id']" selected="selected" t-att-value="fy['id']">
                                <t t-esc="fy['name']"></t>
                            </option>
                            <option t-if="fy['id'] != data['form']['fiscalyear_id']" t-att-value="fy['id']">
                                <t t-esc="fy['name']"></t>
                            </option>
                        </t>
                    </select>
                </div>
                <div class="col-xs-3">
                    <label for="target_move">Target move :</label>
                    <select name="target_move" class="form-control">
                        <t t-if="data['form']['target_move'] == 'posted'">
                            <option selected="selected" value="posted">All Posted Entries</option>
                            <option value="all">All Entries</option>
                        </t>
                        <t t-if="data['form']['target_move'] != 'posted'">
                            <option value="posted">All Posted Entries</option>
                            <option selected="selected" value="all">All Entries</option>
                        </t>
                    </select>
                </div>
                <div class="col-xs-3">
                    <label for="filter">Filter by :</label>
                    <select name="filter" class="form-control">
                        <option t-if="data['form']['filter'] == 'filter_no'" selected="selected" value="filter_no">No Filter</option>
                        <option t-if="data['form']['filter'] != 'filter_no'" value="filter_no">No Filter</option>
                        <option t-if="data['form']['filter'] == 'filter_date'" selected="selected" value="filter_date">Date</option>
                        <option t-if="data['form']['filter'] != 'filter_date'" value="filter_date">Date</option>
                        <option t-if="data['form']['filter'] == 'filter_period'" selected="selected" value="filter_period">Period</option>
                        <option t-if="data['form']['filter'] != 'filter_period'" value="filter_period">Period</option>
                    </select>
                    <t t-if="data['form']['filter'] == 'filter_date'">
                        <label for="date_from">Start Date :</label>
                        <input type="date" class="form-control" name="date_from" t-att-value="data['form']['date_from']"></input>
                        <label for="date_to">End Date :</label>
                        <input type="date" class="form-control" name="date_to" t-att-value="data['form']['date_to']"></input>
                    </t>
                    <t t-if="data['form']['filter'] == 'filter_period'">
                        <label for="period_from">Start Period :</label>
                        <select name="period_from" class="form-control">
                            <t t-foreach="data['content']['periods']" t-as="p">
                                <option t-if="p['id'] == data['form']['period_from']" selected="selected" t-att-value="p['id']">
                                    <t t-esc="p['name']"></t>
                                </option>
                                <option t-if="p['id'] != data['form']['period_from']" t-att-value="p['id']">
                                    <t t-esc="p['name']"></t>
                                </option>
                            </t>
                        </select>
                        <label for="period_to">End Period :</label>
                        <select name="period_to" class="form-control">
                            <t t-foreach="data['content']['periods']" t-as="p">
                                <option t-if="p['id'] == data['form']['period_to']" selected="selected" t-att-value="p['id']">
                                    <t t-esc="p['name']"></t>
                                </option>
                                <option t-if="p['id'] != data['form']['period_to']" t-att-value="p['id']">
                                    <t t-esc="p['name']"></t>
                                </option>
                            </t>
                        </select>
                    </t>
                </div>
                <div class="col-xs-3">
                    <label for="journal_ids">Journals :</label>
                    <div class="row">
                        <div class="col-xs-8">  
                            <select name="add_journal_id" class="form-control">
                                <t t-foreach="data['content']['journals']" t-as="j">
                                    <option t-att-value="j['id']"><t t-esc="j['name']"></t></option>
                                </t>
                            </select>
                        </div>
                        <div class="cols-xs-4">
                            <input type="submit" name="add_journal" class="btn btn-default" value="Add" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-8">
                            <select name="remove_journal_id" class="form-control">
                                <t t-foreach="data['form']['journal_ids']" t-as="fj">
                                    <option t-att-value="fj"><t t-foreach="data['content']['journals']" t-as="j"><t t-if="j['id'] == fj"><t t-esc="j['name']"></t></t></t></option>
                                </t>
                            </select>
                        </div>
                        <div class="cols-xs-4">
                            <input type="submit" name="remove_journal" class="btn btn-default" value="Remove" />
                        </div>
                    </div>
<!--                     <table class="table">
                        <t t-foreach="data['form']['journal_ids']" t-as="fj">
                            <tr>
                                <td>
                                    <t t-foreach="data['content']['journals']" t-as="j">
                                        <t t-if="j['id'] == fj"><t t-esc="j['name']"></t></t>
                                    </t>
                                </td>
                                <td>
                                    <button type="submit" name="remove_journal" class="btn btn-default" t-att-value="fj">Remove</button>
                                </td>
                            </tr>
                        </t>
                    </table> -->
                </div>
            </div>
            <div class="row mt32">
                <input type="hidden" name="journal_ids" t-att-value="data['form']['journal_ids']" />
                <input type="submit" class="btn btn-primary" value="Update" />
            </div>
        </div>
    </form>
</template>
</data>
</openerp>
